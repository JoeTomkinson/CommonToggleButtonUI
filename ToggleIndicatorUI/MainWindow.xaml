<Window x:Class="ToggleIndicatorUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Indicator Display" Height="350" Width="500"
        WindowStartupLocation="CenterScreen">
    <Grid Background="{Binding CurrentTheme.BackgroundBrush}">
        <Border
            Padding="12"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Background="#22FFFFFF">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Runtime Indicators" FontSize="20" FontWeight="SemiBold" Foreground="{Binding CurrentTheme.TextBrush}"/>

                <ItemsControl Grid.Row="1" ItemsSource="{Binding VisibleIndicators}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="8"
                                    Margin="6"
                                    Background="{Binding Theme.BackgroundBrush}"
                                    Opacity="{Binding Opacity}"
                                    Padding="10">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="8">
                                    <Ellipse Width="{Binding Size}" Height="{Binding Size}" Fill="{Binding Theme.AccentBrush}" />
                                    <TextBlock Text="{Binding Name}" Foreground="{Binding Theme.TextBrush}" FontSize="14" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                    <TextBlock Text="Corner:" VerticalAlignment="Center" Foreground="{Binding CurrentTheme.TextBrush}"/>
                    <TextBlock Text="{Binding Settings.Corner}" VerticalAlignment="Center" Foreground="{Binding CurrentTheme.TextBrush}" FontWeight="SemiBold"/>
                    <Button Content="Settings" Width="100" Padding="8" Click="Settings_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <Border BorderBrush="{Binding CurrentTheme.AccentBrush}" BorderThickness="2" CornerRadius="12"
                HorizontalAlignment="{Binding IndicatorHorizontalAlignment}" VerticalAlignment="{Binding IndicatorVerticalAlignment}"
                Margin="{Binding IndicatorMargin}">
            <TextBlock Text="Overlay Anchor" Margin="10" Foreground="{Binding CurrentTheme.TextBrush}"/>
        </Border>
    </Grid>
</Window>
