<Window x:Class="ToggleNotifier.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Toggle Notifier Settings"
        Width="580"
        Height="580"
        MinWidth="520"
        MinHeight="500"
        ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen"
        x:Name="MainWindowRoot">
    
    <Window.Resources>
        <!-- Theme Colors (set programmatically) -->
        <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#F9F9F9"/>
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="CardBorderBrush" Color="#E5E5E5"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="#000000"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="#606060"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#0078D4"/>
        <SolidColorBrush x:Key="ToggleOffBackgroundBrush" Color="#E5E5E5"/>
        <SolidColorBrush x:Key="ToggleOffBorderBrush" Color="#D4D4D4"/>
        <SolidColorBrush x:Key="ControlBackgroundBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="ControlBorderBrush" Color="#D4D4D4"/>
        <SolidColorBrush x:Key="ControlHoverBrush" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="HeaderFooterBackgroundBrush" Color="#FFFFFF"/>
        
        <!-- Modern Card Style -->
        <Style x:Key="SettingsCard" TargetType="Border">
            <Setter Property="Background" Value="{DynamicResource CardBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource CardBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
        
        <!-- Section Header Style -->
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}"/>
            <Setter Property="Margin" Value="0,16,0,8"/>
        </Style>
        
        <!-- Primary Text Style -->
        <Style x:Key="PrimaryText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
        </Style>
        
        <!-- Secondary Text Style -->
        <Style x:Key="SecondaryText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>
        
        <!-- ComboBox Toggle Button Template -->
        <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="ToggleButton">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <Border x:Name="Border" 
                        Grid.ColumnSpan="2"
                        Background="{DynamicResource ControlBackgroundBrush}"
                        BorderBrush="{DynamicResource ControlBorderBrush}"
                        BorderThickness="1"
                        CornerRadius="4"/>
                <Path x:Name="Arrow"
                      Grid.Column="1"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center"
                      Data="M 0 0 L 4 4 L 8 0 Z"
                      Fill="{DynamicResource TextPrimaryBrush}"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="{DynamicResource ControlHoverBrush}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        
        <!-- Themed ComboBox Style -->
        <Style x:Key="ThemedComboBox" TargetType="ComboBox">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource ControlBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton x:Name="ToggleButton"
                                          Template="{StaticResource ComboBoxToggleButton}"
                                          Focusable="False"
                                          ClickMode="Press"
                                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                            <ContentPresenter x:Name="ContentSite"
                                              IsHitTestVisible="False"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                              Margin="10,6,28,6"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Left"/>
                            <Popup x:Name="Popup"
                                   Placement="Bottom"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Slide">
                                <Grid x:Name="DropDown"
                                      SnapsToDevicePixels="True"
                                      MinWidth="{TemplateBinding ActualWidth}"
                                      MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder"
                                            Background="{DynamicResource ControlBackgroundBrush}"
                                            BorderBrush="{DynamicResource ControlBorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="4"
                                            Margin="0,2,0,0">
                                        <ScrollViewer Margin="4" SnapsToDevicePixels="True">
                                            <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained"/>
                                        </ScrollViewer>
                                    </Border>
                                </Grid>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Themed ComboBoxItem Style -->
        <Style TargetType="ComboBoxItem">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}"
                                CornerRadius="3">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource ControlHoverBrush}"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Themed TextBox Style -->
        <Style x:Key="ThemedTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource ControlBorderBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Themed Button Style -->
        <Style x:Key="ThemedButton" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource ControlBorderBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource ControlHoverBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Modern Toggle Switch Template -->
        <Style x:Key="ToggleSwitch" TargetType="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="SwitchBorder" 
                                    Width="44" Height="22" 
                                    CornerRadius="11" 
                                    Background="{DynamicResource ToggleOffBackgroundBrush}"
                                    BorderThickness="1"
                                    BorderBrush="{DynamicResource ToggleOffBorderBrush}"
                                    VerticalAlignment="Center">
                                <Ellipse x:Name="SwitchKnob" 
                                         Width="16" Height="16" 
                                         Fill="White" 
                                         HorizontalAlignment="Left" 
                                         Margin="2,0,0,0">
                                    <Ellipse.Effect>
                                        <DropShadowEffect ShadowDepth="1" BlurRadius="2" Opacity="0.2"/>
                                    </Ellipse.Effect>
                                </Ellipse>
                            </Border>
                            <ContentPresenter Margin="10,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchBorder" Property="Background" Value="{DynamicResource AccentBrush}"/>
                                <Setter TargetName="SwitchBorder" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                                <Setter TargetName="SwitchKnob" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="SwitchKnob" Property="Margin" Value="0,0,2,0"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SwitchBorder" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid Background="{DynamicResource WindowBackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" 
                Padding="24,20,24,16"
                Background="{DynamicResource HeaderFooterBackgroundBrush}"
                BorderThickness="0,0,0,1"
                BorderBrush="{DynamicResource CardBorderBrush}">
            <StackPanel>
                <TextBlock Text="Toggle Notifier"
                           FontSize="28"
                           FontWeight="SemiBold"
                           FontFamily="Segoe UI Variable Display, Segoe UI"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           AutomationProperties.Name="App title" />
                <TextBlock Text="Configure how keyboard toggle indicators appear on your screen."
                           FontSize="14"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           Margin="0,4,0,0"
                           TextWrapping="Wrap"
                           AutomationProperties.Name="App description" />
            </StackPanel>
        </Border>
        
        <!-- Scrollable Content -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto" 
                      Padding="24,0">
            <StackPanel>
                
                <!-- Appearance Section -->
                <TextBlock Text="APPEARANCE" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Theme" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Choose how the notifications appear" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <ComboBox x:Name="ThemeComboBox" 
                                  Grid.Column="1" 
                                  Width="150" 
                                  VerticalAlignment="Center"
                                  Style="{StaticResource ThemedComboBox}"
                                  SelectionChanged="OnThemeSelectionChanged"
                                  AutomationProperties.Name="Theme selection">
                            <ComboBoxItem Content="Use system setting" Tag="System"/>
                            <ComboBoxItem Content="Light" Tag="Light"/>
                            <ComboBoxItem Content="Dark" Tag="Dark"/>
                        </ComboBox>
                    </Grid>
                </Border>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Toast style" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Standard shows full details, compact shows only icon" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <ComboBox x:Name="ToastStyleComboBox" 
                                  Grid.Column="1" 
                                  Width="150" 
                                  VerticalAlignment="Center"
                                  Style="{StaticResource ThemedComboBox}"
                                  AutomationProperties.Name="Toast style selection">
                            <ComboBoxItem Content="Standard" Tag="Standard"/>
                            <ComboBoxItem Content="Compact" Tag="Compact"/>
                        </ComboBox>
                    </Grid>
                </Border>
                
                <!-- Border Section -->
                <TextBlock Text="BORDER" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Custom border" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Show a colored border around the toast notification" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <CheckBox x:Name="EnableCustomBorderBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Grid.Column="1" 
                                  VerticalAlignment="Center"
                                  Checked="OnCustomBorderToggled"
                                  Unchecked="OnCustomBorderToggled"
                                  AutomationProperties.Name="Enable custom border"/>
                    </Grid>
                </Border>
                
                <Border x:Name="BorderColorCard" Style="{StaticResource SettingsCard}" Visibility="Collapsed">
                    <StackPanel>
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Border color" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                                <TextBlock Text="Click the color swatch to choose a custom color" 
                                           FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                <Border x:Name="BorderColorPreview"
                                        Width="32" Height="32"
                                        CornerRadius="4"
                                        BorderThickness="1"
                                        BorderBrush="{DynamicResource ControlBorderBrush}"
                                        Background="#0078D4"
                                        Cursor="Hand"
                                        MouseLeftButtonDown="OnBorderColorClick"
                                        ToolTip="Click to choose a color"
                                        AutomationProperties.Name="Border color preview"/>
                                <Button x:Name="ResetBorderColorButton"
                                        Content="Reset to Accent"
                                        Padding="12,6"
                                        Margin="8,0,0,0"
                                        Style="{StaticResource ThemedButton}"
                                        Click="OnResetBorderColor"
                                        AutomationProperties.Name="Reset border color to Windows accent"/>
                            </StackPanel>
                        </Grid>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Border thickness" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                                <TextBlock Text="Width of the border in pixels" 
                                           FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                            </StackPanel>
                            <TextBox x:Name="BorderThicknessBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     HorizontalContentAlignment="Center"
                                     Style="{StaticResource ThemedTextBox}"
                                     AutomationProperties.Name="Border thickness"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Position Section -->
                <TextBlock Text="POSITION" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Toast position" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Where notifications appear on screen" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <ComboBox x:Name="PositionComboBox" 
                                  Grid.Column="1" 
                                  Width="150" 
                                  VerticalAlignment="Center"
                                  Style="{StaticResource ThemedComboBox}"
                                  AutomationProperties.Name="Position selection">
                            <ComboBoxItem Content="Bottom right" Tag="BottomRight"/>
                            <ComboBoxItem Content="Bottom left" Tag="BottomLeft"/>
                            <ComboBoxItem Content="Top right" Tag="TopRight"/>
                            <ComboBoxItem Content="Top left" Tag="TopLeft"/>
                        </ComboBox>
                    </Grid>
                </Border>
                
                <Border Style="{StaticResource SettingsCard}">
                    <StackPanel>
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Horizontal offset" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                                <TextBlock Text="Distance from screen edge (pixels)" 
                                           FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                            </StackPanel>
                            <TextBox x:Name="HorizontalOffsetBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     HorizontalContentAlignment="Center"
                                     Style="{StaticResource ThemedTextBox}"
                                     AutomationProperties.Name="Horizontal offset"/>
                        </Grid>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Vertical offset" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                                <TextBlock Text="Distance from screen edge (pixels)" 
                                           FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                            </StackPanel>
                            <TextBox x:Name="VerticalOffsetBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     HorizontalContentAlignment="Center"
                                     Style="{StaticResource ThemedTextBox}"
                                     AutomationProperties.Name="Vertical offset"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Timing Section -->
                <TextBlock Text="TIMING" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Display duration" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="How long the notification stays visible (ms)" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <TextBox x:Name="DismissBox" 
                                 Grid.Column="1" 
                                 VerticalAlignment="Center"
                                 HorizontalContentAlignment="Center"
                                 Style="{StaticResource ThemedTextBox}"
                                 AutomationProperties.Name="Dismiss duration"/>
                    </Grid>
                </Border>
                
                <!-- Behavior Section -->
                <TextBlock Text="BEHAVIOR" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Suppress in fullscreen" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Hide notifications when a fullscreen app is running" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <CheckBox x:Name="SuppressInFullscreenBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Grid.Column="1" 
                                  VerticalAlignment="Center"
                                  AutomationProperties.Name="Suppress in fullscreen"/>
                    </Grid>
                </Border>
                
                <!-- Keys Section -->
                <TextBlock Text="MONITORED KEYS" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <StackPanel>
                        <CheckBox x:Name="CapsLockBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Content="Caps Lock"
                                  Margin="0,0,0,12"
                                  AutomationProperties.Name="Caps Lock notifications"/>
                        <CheckBox x:Name="NumLockBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Content="Num Lock"
                                  Margin="0,0,0,12"
                                  AutomationProperties.Name="Num Lock notifications"/>
                        <CheckBox x:Name="ScrollLockBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Content="Scroll Lock"
                                  AutomationProperties.Name="Scroll Lock notifications"/>
                    </StackPanel>
                </Border>
                
                <!-- Sound Section -->
                <TextBlock Text="SOUND" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Play sound" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Play a sound when a key is toggled" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <CheckBox x:Name="PlaySoundBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Grid.Column="1" 
                                  VerticalAlignment="Center"
                                  AutomationProperties.Name="Play sound"/>
                    </Grid>
                </Border>
                
                <!-- Startup Section -->
                <TextBlock Text="STARTUP" Style="{StaticResource SectionHeader}"/>
                
                <Border Style="{StaticResource SettingsCard}" Margin="0,0,0,24">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Launch at sign-in" FontSize="14" FontWeight="Medium" Style="{StaticResource PrimaryText}"/>
                            <TextBlock Text="Start automatically when Windows starts" 
                                       FontSize="12" Margin="0,2,0,0" Style="{StaticResource SecondaryText}"/>
                        </StackPanel>
                        <CheckBox x:Name="LaunchOnSignInBox" 
                                  Style="{StaticResource ToggleSwitch}"
                                  Grid.Column="1" 
                                  VerticalAlignment="Center"
                                  AutomationProperties.Name="Launch on sign in"/>
                    </Grid>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Footer Buttons -->
        <Border Grid.Row="2" 
                Padding="24,16" 
                BorderThickness="0,1,0,0"
                BorderBrush="{DynamicResource CardBorderBrush}"
                Background="{DynamicResource HeaderFooterBackgroundBrush}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="PreviewButton"
                        Grid.Column="0"
                        Content="Preview"
                        Padding="16,8"
                        Style="{StaticResource ThemedButton}"
                        Click="OnPreview"
                        AutomationProperties.Name="Preview toast"/>
                
                <Button x:Name="CloseButton"
                        Grid.Column="2"
                        Content="Cancel"
                        Padding="16,8"
                        Margin="0,0,8,0"
                        Style="{StaticResource ThemedButton}"
                        Click="OnClose"
                        AutomationProperties.Name="Cancel"/>
                
                <Button x:Name="SaveButton"
                        Grid.Column="3"
                        Content="Save"
                        Padding="24,8"
                        FontWeight="SemiBold"
                        Click="OnSave"
                        AutomationProperties.Name="Save settings">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="4" 
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#1084D8"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Background" Value="#006CBE"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Window>
